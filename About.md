# Идея. Как я пришел к ней

Узнав на каких принципах устроен блокчейн, я первым делом стал думать, что можно с ним делать, в каких областях его применить, где возможно реальное использование. Я попробовал сделать несколько прототипов на эфире, один был цепью поставок из trade finance, второй пул для майнинга Ethereum 2.0, еще что-то с идентификацией для сберовского стартап-инкубатора. Не могу сказать, что я оказался в восторге от способностей публичного блокчейна и достаточно быстро разочаровался в его прикладных способностях. Неудивительно, что большинство ICO проектов оказались чистейшим скамом, не имеющим ничего кроме white-paper - большинство из них просто нереализуемы. 

Сейчас я убежден в том, что в ближайшее время (3-5 лет) основное использование блокчейна (распределенного реестра) будет в криптовалютах и токенизации. По сути своей токен - это та же криптовалюта просто с обеспечением. Вопреки доминирующему мнению, я не думаю, что валюта будет одна или две - я уверен, что со временем банки, крупный интерпрайз и крупные технологические компании - все найдут для себя свою выгоду в криптовалюте или токенах. Принимая во внимание это, я вижу как минимум два крупных направления развития блокчейна, сейчас в той или иной степени недооцененных. 

Первое - это системы, которые смогут объединить в себе несвязанные сети. Очевидно, что как и в случае с обычными валютами возникнут общие системы межбанковских расчетов, вроде визы или Свифта. Лучшим, из того что я видел на данный момент является Polkadot, скорее всего сюда придет и ethereum, после имплементации шардинга и proof of stake. Ethereum 2.0 и Polkadot с точки зрения реализации, как ни странно, почти одно и то же, вообще, большинство сетей, которые мне кажутся стоящими в сущности базируются на похожих принципах.

Второе  направление - это сами по себе сети хранения вэлью. Биткоин, tether, любой стейблкоин, нефте-золото-чтобытонибыло-коин, equity coin, STO coin (просто share компании на которую создан первичный спрос на токенбирже) - все это основной вариант использования блокчейна на ближайшие несколько лет. Для меня в первую очередь важно кто и как эти коины будут выпускать. В первую очередь это банки, которые из локальных криптовалют попытаются выудить дополнительную выгоду (в основном из взаимодействия с регуляторами), за ними крупный интерпайз, у которого есть commodity под которые можно выпускать стейблкоины (например как и в случае  STO они могут создать первичный спрос на commodity) и в конце концов собственно компании, которые захотят провести IPO гораздо раньше и дешевле, чем это можно сделать сейчас (ICO STO IEO)

Если последние вероятнее всего воспользуются открытыми площадками для своих нужд, то с банками и БИ все не так очевидно. Я думаю, что история блокчейна не будет сильно отличаться от облаков.  Так же как и с облаками - большие компании захотят свои системы, по все тем же самым причинам, почему не отказываются от своих железок и своих инстансов вендорского софта (не идут в IaaS SaaS и любой другой *-aaS). Например, JP Morgan  выпустил свой коин на форке кодабазы ethereum написанного на джаве (одна из худших импементаций эфира btw), а не стал вопреки ожиданиям делать коин на самом эфире или пользоваться услугами крупных вендоров типа IBM. 

Я думаю, что JPM хотел простую вещь, с одной стороны получить лучшую в технологическом плане криптовалюту из тех, что есть на рынке, очевидно, что это не продукты крупных вендоров, с другой стороны сохранить контроль над кодом и что более важно самим распределенным реестром - данными. Не найдя пересечения этих двух множеств на рынке, им пришлось сделать свою систему, переделывая не приспособленный для этого эфир. 
Именно такой сервис, который с одной стороны дает state of art технологию, с другой стороны привычный сервис и нужно делать. Примерно как в случае облаков Cloudfoundry  помогает крупному бизнесу делать свои private облака, наша компания будет помогать бизнесу делать блокчейн стартапы на своем продукте. 

# Продукт. Что сделано 

Есть сетевой уровень построенный на libp2p. Это на мой взгляд самая крутая на данный момент p2p библиотек из известных мне, во-первых она написана на go, js и скоро на rust. В моем представлении это основные системные языки на данный момент. Во-вторых это сетевой уровень достаточно зрелой и в некоторых кругах популярной файловой системы ipfs, которую достаточно активно используют, взять к примеру cloudflare. В libp2p есть несколько реализованных сетевых примитивов,  в том числе нужный нам gossip pub-sub (это важно так как в общем случае мы не собираем fullring кластер) с дискавери пиров через  Kademlia таблицы, это в целом state of the art p2p нетворкинга и все сети в каком-то виде реализуют что-то похожее, будь то биткоин, эфир и т д. Libp2p будет использоваться для реализации нового кошелька parity (сторонняя и достаточно популярная реализация ethereum) и еще много где. Плюс ко всему она позволяет достаточно качественно забутстрапить p2p уровень, что позволяет сосредоточиться на более значимых вещах и в случае чего вернуться к сетевому уровню. Очевидно, что здесь нужно еще много исследовать, но на данном этапе либа работает, кластер из нодов собирается, и на мой взгляд при должном тюнинге с libp2p можно смело стартовать.

Уровень протокола консенсуса. На это я потратил кажется больше всего времени, выбирая из наверно сотни доступных на данном этапе протоколов. В итоге путем долгих разбирательств и нескольких имплементаций я остановился на Hotstuff, по сути это некая вариация на тему PBFT(practical bft) и является упрощением/оптимизацией/осмыслением BFT протоколов. Здесь можно много написать, но отчасти это будет повторение статьи из arxiv, где в последней версии протокол описан достаточно полно, я начинал со второй версии и некоторые вещи пришлось додумывать / называть по другому и т д. Очень издалека hotstuff - это BFT протокол, а значит при (1/3n - 1) злоумышленников работает безопасно, что немного хуже чем PoW, но для permissioned блокчейна более чем. Это относительно простой и понятный протокол, с небольшим количеством кода, к тому же достаточно формализован в статье. Это partial-synchrony протокол, то есть прогресс протокола наступает уже при (2/3n + 1) голосах, в случае Global Stabilization Time при котором все участники синхронизуются, протокол сильно замедляется, но ведет себя прогнозируемо в отличии от полностью асинхронных. Тем не менее, hotstuff не накладывает ограничений по лейтенси нодов, в отличии от его синхронных коллег.  Можно считать, что это очень быстрый протокол, в котором участник пропустивший голосование из-за лага в сети или еще по каким причинам не является злоумышленником (это очень грубо просто для того чтобы почувствовать)). Ethereum 2.0 (Shasper) будет сильно похож на hotstuff, Libra от facebook, что стало для меня большим сюрпризом, выбрала тот же самый протокол для своего коина, что существенно забустило популярность протокола.

Прикладной уровень. Здесь есть общий Стейт в локальных Merkle-tree, достаточно наивно реализованных, есть транзакции которые меняют Стейт и механизм управления форками, в каком-то смысле это часть протокола консенсуса. Полноценной реализации proof-of-stake на данном этапе нет. Блокчейн сохраняется локально в leveldb

Криптография взята из эфира. Эллиптическая кривая та же, что и в биткоине, если не ошибаюсь вплоть до реализации, просто эфир портировал ее на golang. Хэширование стандартная keccak256. 

По моей задумке тот функционал который есть сейчас + возможно PoS (очень спорно) должен стать opensource, как только код будет интерпрайз уровня.

Помимо базового функционала будет premium функционал, это будет набор сервисов: KYC (регистрация/идентификация), zero-knowledge для сокрытия данных между участниками, permissioned для управлением валидаторами в сети, web/mobile  lite клиенты, для осуществления обмена транзакциями между конкретными пользователями и т д подробнее об этом в следующем разделе. 

# Как продавать. Где брать деньги 

Наверно  самая важная часть любого стартапа, которая осталась «на потом»))
Зарабатывать будем как классический open source: на консалтинге разработки приложений с использованием  OS части и продажи premium сервисов. 

Основной план сейчас предельно прост: 
На базе существующего прототипа написать к следующему году продукт, который успешно продадим в один из крупных банков. Первоначальное revenue необходимо для успешного привлечения сида (это могут быть как  VC деньги так и Friends and Family). Помочь в первой продаже должны мои связи плюс связи сейлза о котором чуть ниже. Это на данный момент основной план, но очевидно не единственный, есть варианты с STO или даже IEO, это все нужно смотреть уже ближе к делу, когда деньги реально понадобятся на скейлинг. Чем ближе м ы будем к реальному проекту и revenue, даже незначительному,  тем очевидно проще и на лучших условиях пройдет привлечение.

Для того, чтобы сделать продукт и продать его, как ни странно нужна команда.
Основной план на данном этапе набрать команду part-time как можно более скиловых людей, которые верят в идею. Я ориентируюсь на 3-4 человек помимо меня. 
Половину компании я оставляю за собой, остальную в пропорциях поделю между ко-фаундерами, оставив небольшой пул следующим работникам, которые будут наняты уже за зарплату после привлечения. Доли будут с размытием, то есть вся эмиссия на раундах будет уменьшать доли всех участников пропорционально. Скорее всего будет опцион лесенкой на несколько лет (1/4 каждый год) но это все детали и будет еще неоднократно обсуждаться.

Один человек занимается продажами и подключается ближе к зиме.
На позицию сейлза у меня есть два кандидата, которые в разное время много продавали в БПЦ процессинговую систему «смартвиста» по всему миру - мои разной близости знакомые

Я занимаюсь фултайм: программирование, математика, sale, поиск денег, поиск людей
Я в начале выделил остальные роли, но быстро оставил эту затею. По началу будет управляемый хаос и все будут заниматься всем, заливая пожары там где горит, как обычно на стартапе))

В общем система под рабочим названием gagarin.io завершила R&D фазу и переходит в активный development.
  
